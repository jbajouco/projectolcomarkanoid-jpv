<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Arkanoid: KeyboardController</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>KeyboardController</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga34599ca5c55cb9be3b235d7422aff45c">KBC_TIMEOUT</a>&nbsp;&nbsp;&nbsp;30</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">maximum amount of milliseconds to wait for KBC response/availability  <a href="#ga34599ca5c55cb9be3b235d7422aff45c"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga088f9ac488fbbf9ecf5a7238919c4e2c">kbc_init</a> (int debug)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga2f953c4ccfdb59883c1821412f73f237">mouse_disable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gad0f35d8bf87c5a507aede8692c45f877">write_kbc_cmd</a> (unsigned data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gab19779ea7896435b3d4a5ff8a420f37e">write_kbc_data</a> (unsigned data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga60b51b413d6f90bfb8dd7df85ddb63a2">write_aux</a> (unsigned cmd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga52a7ce44125208dfa303e597e6302a71">read_kbc</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gad0f4763c978797b701c51fe3841ebdb0">write_kbc</a> (unsigned adr, unsigned data)</td></tr>
<tr><td colspan="2"><h2>The hardware register addresses</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp372a25e47c984857a96cb8cf822c3828"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gabf7206ca2181c36ef04b795c9b64e886">CMD_REG</a>&nbsp;&nbsp;&nbsp;0x64</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">command register (read only)  <a href="#gabf7206ca2181c36ef04b795c9b64e886"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga89c4d098b53809674457b1660b1af780">STAT_REG</a>&nbsp;&nbsp;&nbsp;0x64</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">status register (write only)  <a href="#ga89c4d098b53809674457b1660b1af780"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga71b8ba376f687142f60a82d18c2715e0">DATA_REG</a>&nbsp;&nbsp;&nbsp;0x60</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">data register (read/write)  <a href="#ga71b8ba376f687142f60a82d18c2715e0"></a><br/></td></tr>
<tr><td colspan="2"><h2>Bit meanings in the status register</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpcc3c1babe399c18ae5111c8ae432a682"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga45967c9e25447ba853cf6fb4ac545fe6">OBF</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Output Buffer Full.  <a href="#ga45967c9e25447ba853cf6fb4ac545fe6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga3c48b10907056351582baf9f6478598e">IBF</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Input Buffer Full.  <a href="#ga3c48b10907056351582baf9f6478598e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga1b41fd2be63532d4ab910f8b256c3811">AUX</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if data at DATA_REG came from mouse interface  <a href="#ga1b41fd2be63532d4ab910f8b256c3811"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga307ab71673e26ec42b28a3bca05d4cb5">PAR_ERR</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parity Error.  <a href="#ga307ab71673e26ec42b28a3bca05d4cb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gad16f61e2bf70f6c7685e826224ed177f">TO_ERR</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timeout Error.  <a href="#gad16f61e2bf70f6c7685e826224ed177f"></a><br/></td></tr>
<tr><td colspan="2"><h2>"Historical" commands to send to DATA_REG, response in DATA_REG</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp1716368a8a205f9cb3d6e123ef2ad7b2"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga9f7743653801b79b2cf7c4a2707882ad">ResetKBC</a>&nbsp;&nbsp;&nbsp;0xFF</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the KBC interface.  <a href="#ga9f7743653801b79b2cf7c4a2707882ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gae1856867674001a426a9ffb156affcd2">DefaultKBD</a>&nbsp;&nbsp;&nbsp;0xF6</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set default scancode and repeat rate.  <a href="#gae1856867674001a426a9ffb156affcd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaaa35612ed5d4fdbe8000df239239713e">DisableKBD</a>&nbsp;&nbsp;&nbsp;0xF5</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Historical Disable keyboard.  <a href="#gaaa35612ed5d4fdbe8000df239239713e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga696342c5acdcc88677782c0f3133b549">EnableKBD</a>&nbsp;&nbsp;&nbsp;0xF4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Historical clear buffer and enable keyboard.  <a href="#ga696342c5acdcc88677782c0f3133b549"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga5e6859fb7c74889de02b86f3a03fec56">KBDRate</a>&nbsp;&nbsp;&nbsp;0xF3</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Keyboard repeat rate, one arg, bits 0-4 repeat rate, bits 5-6 start delay.  <a href="#ga5e6859fb7c74889de02b86f3a03fec56"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga59358190e83ceb32a586e77d01a536c6">WriteLEDS</a>&nbsp;&nbsp;&nbsp;0xED</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn on/off KBD LEDS, one arg, one bit per led, bits 0-2, 0-off, 1-on.  <a href="#ga59358190e83ceb32a586e77d01a536c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga1762a3d7ed4ff016f09dd89a931ac871">SCROLL_LOCK</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SCROLL_LOCK led for WriteLEDS command.  <a href="#ga1762a3d7ed4ff016f09dd89a931ac871"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga4dec6ba83b643ca753f0be5b167b02ae">NUM_LOCK</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">NUM__LOCK led for WriteLEDS command.  <a href="#ga4dec6ba83b643ca753f0be5b167b02ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga7d5d3b2ce697563a426c7fda967af9d7">CAPS_LOCK</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CAPS_LOCK led for WriteLEDS command.  <a href="#ga7d5d3b2ce697563a426c7fda967af9d7"></a><br/></td></tr>
<tr><td colspan="2"><h2>Response codes to commands/data written in DATA_REG</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp62016c23d116959053588abaf99205c0"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga6f6489887e08bff4887d0bc5dcf214d8">ACK</a>&nbsp;&nbsp;&nbsp;0xFA</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Acknowledge OK response.  <a href="#ga6f6489887e08bff4887d0bc5dcf214d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga0ad9f0fd5fc87aa4630979da018fdb39">Resend</a>&nbsp;&nbsp;&nbsp;0xFE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resend error response; on multibyte commands the whole command must be resent from the beginning.  <a href="#ga0ad9f0fd5fc87aa4630979da018fdb39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga0f20a163dec609fb464cba845e043be8">Error</a>&nbsp;&nbsp;&nbsp;0xFC</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error.  <a href="#ga0f20a163dec609fb464cba845e043be8"></a><br/></td></tr>
<tr><td colspan="2"><h2>Command codes to send to CMD_REG, args, if exists, to DATA_REG, return values in DATA_REG</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpdc724bbab76fd2644c24a001008cbe73"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga99bbff320189ff927ad8d28b32d0a3e2">ReadCommand</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read Command_Byte.  <a href="#ga99bbff320189ff927ad8d28b32d0a3e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga177bb59d36f14c1024b2de1601693605">WriteCommand</a>&nbsp;&nbsp;&nbsp;0x60</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write Command_Byte, one arg.  <a href="#ga177bb59d36f14c1024b2de1601693605"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga884864c92108739e60113ca2079cbe71">DisableMouse</a>&nbsp;&nbsp;&nbsp;0xA7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable Mouse Interface.  <a href="#ga884864c92108739e60113ca2079cbe71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gacaa321c74955e015d83da05cd321c0f8">EnableMouse</a>&nbsp;&nbsp;&nbsp;0xA8</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable Mouse Interface.  <a href="#gacaa321c74955e015d83da05cd321c0f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gab47f9ef099e1f33e026e5ee549900624">TestMouse</a>&nbsp;&nbsp;&nbsp;0xA9</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test Mouse Interface, returns 0 if OK.  <a href="#gab47f9ef099e1f33e026e5ee549900624"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaf555314895f7b6544624a51f22e3aeb0">Test8042</a>&nbsp;&nbsp;&nbsp;0xAA</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test KBC, returns 0x55 if sucess, 0xFC on error.  <a href="#gaf555314895f7b6544624a51f22e3aeb0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga5414bbfebe830e7887014106d3fd681e">TestKBD</a>&nbsp;&nbsp;&nbsp;0xAB</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test mouse, returns 0 if OK.  <a href="#ga5414bbfebe830e7887014106d3fd681e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga69a0c992535a868edcb9362b52859914">NDisableKBD</a>&nbsp;&nbsp;&nbsp;0xAD</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">New (versus historical) Disable keyboard.  <a href="#ga69a0c992535a868edcb9362b52859914"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gace4e2548e5f13bab908c668fe5df5819">NEnableKBD</a>&nbsp;&nbsp;&nbsp;0xAE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">New (versus historical) Enable keyboard.  <a href="#gace4e2548e5f13bab908c668fe5df5819"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga1ace60d764c21d4e3dfe01f6b9b401e0">WriteMouse</a>&nbsp;&nbsp;&nbsp;0xD4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write Mouse, one arg, see "Commands for the Mouse".  <a href="#ga1ace60d764c21d4e3dfe01f6b9b401e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga01e50ef9f098e20f6b0b0429644862cf">ResetPC</a>&nbsp;&nbsp;&nbsp;0xFE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset PC (reboot).  <a href="#ga01e50ef9f098e20f6b0b0429644862cf"></a><br/></td></tr>
<tr><td colspan="2"><h2>Bit meanings in the Command_Byte</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp22837900a5e0efd014657e1817de0ea4"></a> (read/write with command ReadCommand/WriteCommand) </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gafc6b776bcf10fb8d8c84c9e2a924025e">INT_1</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable generation of interrupts from keyboard.  <a href="#gafc6b776bcf10fb8d8c84c9e2a924025e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga474732bbd6e6c485541a39fb44b88325">INT_12</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable generation of interrupts from mouse.  <a href="#ga474732bbd6e6c485541a39fb44b88325"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga9e6ea2b423d7213db16c4975aaf38899">EN_KBD</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable keyboard interface.  <a href="#ga9e6ea2b423d7213db16c4975aaf38899"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaf9776e4566c3a77a7c3631530998f386">EN_MOUSE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable mouse interface.  <a href="#gaf9776e4566c3a77a7c3631530998f386"></a><br/></td></tr>
<tr><td colspan="2"><h2>Commands to the Mouse</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp3da47b5f248be7cc1555cc8bccfb63fc"></a> Prefaced with command WriteMouse </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gad6089b7326e09854f0670e5dd3b4612a">MouseReset</a>&nbsp;&nbsp;&nbsp;0xFF</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga1e9689f4bb2acbcbb8c83dde66b2192f">MouseDefaults</a>&nbsp;&nbsp;&nbsp;0xF6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gab0514340ae64ca6bd470fc518efb1409">StreamDisable</a>&nbsp;&nbsp;&nbsp;0xF5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga2ffc6eb402762e3b4f9c553796b9b060">StreamEnable</a>&nbsp;&nbsp;&nbsp;0xF4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga6109d272a7e0839b7ab18c38b50d8464">SampleRate</a>&nbsp;&nbsp;&nbsp;0xF3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga6e02bbb2debd87c4a931acec280494e8">ReadDevice</a>&nbsp;&nbsp;&nbsp;0xF2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaccd8c46af3b38f50c99fbddd7703513d">RemoteMode</a>&nbsp;&nbsp;&nbsp;0xF0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gae59f0330db4123de14d87a2594c7f29c">MouseReadData</a>&nbsp;&nbsp;&nbsp;0xEB</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga89e4319b16638bfc84fafa1fb65ca0c2">EnterStream</a>&nbsp;&nbsp;&nbsp;0xEA</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaef6666aa14f3bea60824b38ecfe4728d">StatusRequest</a>&nbsp;&nbsp;&nbsp;0xE9</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga09e84fb09affc016c2800424cd09b7f6">Resolution</a>&nbsp;&nbsp;&nbsp;0xE8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaac83f3dad20cc9a631eb84be0676d358">Scaling2</a>&nbsp;&nbsp;&nbsp;0xE7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga517de159c505818ad67d371dbec33d53">Scaling1</a>&nbsp;&nbsp;&nbsp;0xE6</td></tr>
<tr><td colspan="2"><h2>Bit meaning in first byte of mouse data packet</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpe68d2a8ca3256ffc1615a6727eb1de3b"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga08deb639aef83c70892a364261b09133">YOVF</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">X overflow.  <a href="#ga08deb639aef83c70892a364261b09133"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gac3172c891b25dafed9ced2476aa03cf1">XOVF</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Y overflow.  <a href="#gac3172c891b25dafed9ced2476aa03cf1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga5c610c7c656c4cf62564a959c30e0245">YSGN</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sign of data packet byte 3 (y movement).  <a href="#ga5c610c7c656c4cf62564a959c30e0245"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga1829ceaee57583878dbef19f0bc1a724">XSGN</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sign of data packet byte 2 (x movement).  <a href="#ga1829ceaee57583878dbef19f0bc1a724"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gab4abb667b74797a9a64f95d388c4da75">MBT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Middle button.  <a href="#gab4abb667b74797a9a64f95d388c4da75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gabc6d7bd471913c986a226a3893174dfc">RBT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Right button.  <a href="#gabc6d7bd471913c986a226a3893174dfc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga6bec57496b9c9cc22e12e62997e5be91">LBT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Left button.  <a href="#ga6bec57496b9c9cc22e12e62997e5be91"></a><br/></td></tr>
<tr><td colspan="2"><h2>Utility macros to inquiry first byte of mouse data packet</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp2e45ba3bddab92f558a292882a6f6d6c"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga37a6485f1a57d53c63b242f8692c9868">LEFT_BUTTON</a>(dt)&nbsp;&nbsp;&nbsp;(((dt) &amp; LBT) == LBT)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if left button pressed  <a href="#ga37a6485f1a57d53c63b242f8692c9868"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga8f2cffb043cf466894e2019ea14c400d">RIGHT_BUTTON</a>(dt)&nbsp;&nbsp;&nbsp;(((dt) &amp; RBT) == RBT)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if right button pressed  <a href="#ga8f2cffb043cf466894e2019ea14c400d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gacfa9590af87bbf796387e1c6e01ef5c3">MIDDLE_BUTTON</a>(dt)&nbsp;&nbsp;&nbsp;(((dt) &amp; MBT) == MBT)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if middle button pressed  <a href="#gacfa9590af87bbf796387e1c6e01ef5c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga43c087e52d2e7260fed09fc0cc7d5752">Y_OVERFLOW</a>(dt)&nbsp;&nbsp;&nbsp;(((dt) &amp; XOVF) == XOVF)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if overflow in x movement  <a href="#ga43c087e52d2e7260fed09fc0cc7d5752"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#ga8c9b6532dd05bc77e9bcef499868d98f">X_OVERFLOW</a>(dt)&nbsp;&nbsp;&nbsp;(((dt) &amp; YOVF) == YOVF)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if overflow in y movement  <a href="#ga8c9b6532dd05bc77e9bcef499868d98f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaaf66ab279fa7f3781953d0c4422a7790">X_SIGN</a>(dt)&nbsp;&nbsp;&nbsp;(((dt) &amp; XSGN) == XSGN ? -1 : 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if positive x movement, -1 if negative  <a href="#gaaf66ab279fa7f3781953d0c4422a7790"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___keyboard_controller.html#gaab5db4b8ea62f4cce4c01f703f0c8592">Y_SIGN</a>(dt)&nbsp;&nbsp;&nbsp;(((dt) &amp; YSGN) == YSGN ? -1 : 1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">1 if positive y movement, -1 if negative  <a href="#gaab5db4b8ea62f4cce4c01f703f0c8592"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Keyboard and Mouse related functions </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga6f6489887e08bff4887d0bc5dcf214d8"></a><!-- doxytag: member="kbc.h::ACK" ref="ga6f6489887e08bff4887d0bc5dcf214d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACK&nbsp;&nbsp;&nbsp;0xFA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Acknowledge OK response. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00050">50</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1b41fd2be63532d4ab910f8b256c3811"></a><!-- doxytag: member="kbc.h::AUX" ref="ga1b41fd2be63532d4ab910f8b256c3811" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUX&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if data at DATA_REG came from mouse interface </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00030">30</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7d5d3b2ce697563a426c7fda967af9d7"></a><!-- doxytag: member="kbc.h::CAPS_LOCK" ref="ga7d5d3b2ce697563a426c7fda967af9d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAPS_LOCK&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>CAPS_LOCK led for WriteLEDS command. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00045">45</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabf7206ca2181c36ef04b795c9b64e886"></a><!-- doxytag: member="kbc.h::CMD_REG" ref="gabf7206ca2181c36ef04b795c9b64e886" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_REG&nbsp;&nbsp;&nbsp;0x64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>command register (read only) </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00021">21</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga71b8ba376f687142f60a82d18c2715e0"></a><!-- doxytag: member="kbc.h::DATA_REG" ref="ga71b8ba376f687142f60a82d18c2715e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_REG&nbsp;&nbsp;&nbsp;0x60</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>data register (read/write) </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00023">23</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae1856867674001a426a9ffb156affcd2"></a><!-- doxytag: member="kbc.h::DefaultKBD" ref="gae1856867674001a426a9ffb156affcd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DefaultKBD&nbsp;&nbsp;&nbsp;0xF6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set default scancode and repeat rate. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00038">38</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa35612ed5d4fdbe8000df239239713e"></a><!-- doxytag: member="kbc.h::DisableKBD" ref="gaaa35612ed5d4fdbe8000df239239713e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DisableKBD&nbsp;&nbsp;&nbsp;0xF5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Historical Disable keyboard. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00039">39</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga884864c92108739e60113ca2079cbe71"></a><!-- doxytag: member="kbc.h::DisableMouse" ref="ga884864c92108739e60113ca2079cbe71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DisableMouse&nbsp;&nbsp;&nbsp;0xA7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable Mouse Interface. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00059">59</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9e6ea2b423d7213db16c4975aaf38899"></a><!-- doxytag: member="kbc.h::EN_KBD" ref="ga9e6ea2b423d7213db16c4975aaf38899" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EN_KBD&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable keyboard interface. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00076">76</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf9776e4566c3a77a7c3631530998f386"></a><!-- doxytag: member="kbc.h::EN_MOUSE" ref="gaf9776e4566c3a77a7c3631530998f386" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EN_MOUSE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable mouse interface. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00077">77</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga696342c5acdcc88677782c0f3133b549"></a><!-- doxytag: member="kbc.h::EnableKBD" ref="ga696342c5acdcc88677782c0f3133b549" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EnableKBD&nbsp;&nbsp;&nbsp;0xF4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Historical clear buffer and enable keyboard. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00040">40</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacaa321c74955e015d83da05cd321c0f8"></a><!-- doxytag: member="kbc.h::EnableMouse" ref="gacaa321c74955e015d83da05cd321c0f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EnableMouse&nbsp;&nbsp;&nbsp;0xA8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable Mouse Interface. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00060">60</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga89e4319b16638bfc84fafa1fb65ca0c2"></a><!-- doxytag: member="kbc.h::EnterStream" ref="ga89e4319b16638bfc84fafa1fb65ca0c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EnterStream&nbsp;&nbsp;&nbsp;0xEA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00092">92</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0f20a163dec609fb464cba845e043be8"></a><!-- doxytag: member="kbc.h::Error" ref="ga0f20a163dec609fb464cba845e043be8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Error&nbsp;&nbsp;&nbsp;0xFC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Error. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00052">52</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3c48b10907056351582baf9f6478598e"></a><!-- doxytag: member="kbc.h::IBF" ref="ga3c48b10907056351582baf9f6478598e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IBF&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Input Buffer Full. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00029">29</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafc6b776bcf10fb8d8c84c9e2a924025e"></a><!-- doxytag: member="kbc.h::INT_1" ref="gafc6b776bcf10fb8d8c84c9e2a924025e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INT_1&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable generation of interrupts from keyboard. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00074">74</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga474732bbd6e6c485541a39fb44b88325"></a><!-- doxytag: member="kbc.h::INT_12" ref="ga474732bbd6e6c485541a39fb44b88325" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INT_12&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable generation of interrupts from mouse. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00075">75</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga34599ca5c55cb9be3b235d7422aff45c"></a><!-- doxytag: member="kbc.h::KBC_TIMEOUT" ref="ga34599ca5c55cb9be3b235d7422aff45c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KBC_TIMEOUT&nbsp;&nbsp;&nbsp;30</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>maximum amount of milliseconds to wait for KBC response/availability </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00017">17</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e6859fb7c74889de02b86f3a03fec56"></a><!-- doxytag: member="kbc.h::KBDRate" ref="ga5e6859fb7c74889de02b86f3a03fec56" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KBDRate&nbsp;&nbsp;&nbsp;0xF3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Keyboard repeat rate, one arg, bits 0-4 repeat rate, bits 5-6 start delay. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00041">41</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6bec57496b9c9cc22e12e62997e5be91"></a><!-- doxytag: member="kbc.h::LBT" ref="ga6bec57496b9c9cc22e12e62997e5be91" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LBT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Left button. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00108">108</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga37a6485f1a57d53c63b242f8692c9868"></a><!-- doxytag: member="kbc.h::LEFT_BUTTON" ref="ga37a6485f1a57d53c63b242f8692c9868" args="(dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEFT_BUTTON</td>
          <td>(</td>
          <td class="paramtype">dt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((dt) &amp; LBT) == LBT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if left button pressed </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00113">113</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab4abb667b74797a9a64f95d388c4da75"></a><!-- doxytag: member="kbc.h::MBT" ref="gab4abb667b74797a9a64f95d388c4da75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Middle button. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00106">106</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacfa9590af87bbf796387e1c6e01ef5c3"></a><!-- doxytag: member="kbc.h::MIDDLE_BUTTON" ref="gacfa9590af87bbf796387e1c6e01ef5c3" args="(dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIDDLE_BUTTON</td>
          <td>(</td>
          <td class="paramtype">dt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((dt) &amp; MBT) == MBT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if middle button pressed </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00115">115</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e9689f4bb2acbcbb8c83dde66b2192f"></a><!-- doxytag: member="kbc.h::MouseDefaults" ref="ga1e9689f4bb2acbcbb8c83dde66b2192f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MouseDefaults&nbsp;&nbsp;&nbsp;0xF6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00085">85</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae59f0330db4123de14d87a2594c7f29c"></a><!-- doxytag: member="kbc.h::MouseReadData" ref="gae59f0330db4123de14d87a2594c7f29c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MouseReadData&nbsp;&nbsp;&nbsp;0xEB</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00091">91</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad6089b7326e09854f0670e5dd3b4612a"></a><!-- doxytag: member="kbc.h::MouseReset" ref="gad6089b7326e09854f0670e5dd3b4612a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MouseReset&nbsp;&nbsp;&nbsp;0xFF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00084">84</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga69a0c992535a868edcb9362b52859914"></a><!-- doxytag: member="kbc.h::NDisableKBD" ref="ga69a0c992535a868edcb9362b52859914" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDisableKBD&nbsp;&nbsp;&nbsp;0xAD</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>New (versus historical) Disable keyboard. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00064">64</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gace4e2548e5f13bab908c668fe5df5819"></a><!-- doxytag: member="kbc.h::NEnableKBD" ref="gace4e2548e5f13bab908c668fe5df5819" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NEnableKBD&nbsp;&nbsp;&nbsp;0xAE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>New (versus historical) Enable keyboard. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00065">65</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga4dec6ba83b643ca753f0be5b167b02ae"></a><!-- doxytag: member="kbc.h::NUM_LOCK" ref="ga4dec6ba83b643ca753f0be5b167b02ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_LOCK&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NUM__LOCK led for WriteLEDS command. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00044">44</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga45967c9e25447ba853cf6fb4ac545fe6"></a><!-- doxytag: member="kbc.h::OBF" ref="ga45967c9e25447ba853cf6fb4ac545fe6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OBF&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Output Buffer Full. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00028">28</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga307ab71673e26ec42b28a3bca05d4cb5"></a><!-- doxytag: member="kbc.h::PAR_ERR" ref="ga307ab71673e26ec42b28a3bca05d4cb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAR_ERR&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parity Error. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00031">31</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabc6d7bd471913c986a226a3893174dfc"></a><!-- doxytag: member="kbc.h::RBT" ref="gabc6d7bd471913c986a226a3893174dfc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RBT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Right button. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00107">107</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga99bbff320189ff927ad8d28b32d0a3e2"></a><!-- doxytag: member="kbc.h::ReadCommand" ref="ga99bbff320189ff927ad8d28b32d0a3e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ReadCommand&nbsp;&nbsp;&nbsp;0x20</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read Command_Byte. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00057">57</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6e02bbb2debd87c4a931acec280494e8"></a><!-- doxytag: member="kbc.h::ReadDevice" ref="ga6e02bbb2debd87c4a931acec280494e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ReadDevice&nbsp;&nbsp;&nbsp;0xF2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00089">89</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaccd8c46af3b38f50c99fbddd7703513d"></a><!-- doxytag: member="kbc.h::RemoteMode" ref="gaccd8c46af3b38f50c99fbddd7703513d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RemoteMode&nbsp;&nbsp;&nbsp;0xF0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00090">90</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0ad9f0fd5fc87aa4630979da018fdb39"></a><!-- doxytag: member="kbc.h::Resend" ref="ga0ad9f0fd5fc87aa4630979da018fdb39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Resend&nbsp;&nbsp;&nbsp;0xFE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resend error response; on multibyte commands the whole command must be resent from the beginning. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00051">51</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9f7743653801b79b2cf7c4a2707882ad"></a><!-- doxytag: member="kbc.h::ResetKBC" ref="ga9f7743653801b79b2cf7c4a2707882ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ResetKBC&nbsp;&nbsp;&nbsp;0xFF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the KBC interface. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00037">37</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga01e50ef9f098e20f6b0b0429644862cf"></a><!-- doxytag: member="kbc.h::ResetPC" ref="ga01e50ef9f098e20f6b0b0429644862cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ResetPC&nbsp;&nbsp;&nbsp;0xFE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset PC (reboot). </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00067">67</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga09e84fb09affc016c2800424cd09b7f6"></a><!-- doxytag: member="kbc.h::Resolution" ref="ga09e84fb09affc016c2800424cd09b7f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Resolution&nbsp;&nbsp;&nbsp;0xE8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00094">94</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8f2cffb043cf466894e2019ea14c400d"></a><!-- doxytag: member="kbc.h::RIGHT_BUTTON" ref="ga8f2cffb043cf466894e2019ea14c400d" args="(dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RIGHT_BUTTON</td>
          <td>(</td>
          <td class="paramtype">dt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((dt) &amp; RBT) == RBT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if right button pressed </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00114">114</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6109d272a7e0839b7ab18c38b50d8464"></a><!-- doxytag: member="kbc.h::SampleRate" ref="ga6109d272a7e0839b7ab18c38b50d8464" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SampleRate&nbsp;&nbsp;&nbsp;0xF3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00088">88</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga517de159c505818ad67d371dbec33d53"></a><!-- doxytag: member="kbc.h::Scaling1" ref="ga517de159c505818ad67d371dbec33d53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Scaling1&nbsp;&nbsp;&nbsp;0xE6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00096">96</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaac83f3dad20cc9a631eb84be0676d358"></a><!-- doxytag: member="kbc.h::Scaling2" ref="gaac83f3dad20cc9a631eb84be0676d358" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Scaling2&nbsp;&nbsp;&nbsp;0xE7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00095">95</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1762a3d7ed4ff016f09dd89a931ac871"></a><!-- doxytag: member="kbc.h::SCROLL_LOCK" ref="ga1762a3d7ed4ff016f09dd89a931ac871" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCROLL_LOCK&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SCROLL_LOCK led for WriteLEDS command. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00043">43</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga89c4d098b53809674457b1660b1af780"></a><!-- doxytag: member="kbc.h::STAT_REG" ref="ga89c4d098b53809674457b1660b1af780" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STAT_REG&nbsp;&nbsp;&nbsp;0x64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>status register (write only) </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00022">22</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaef6666aa14f3bea60824b38ecfe4728d"></a><!-- doxytag: member="kbc.h::StatusRequest" ref="gaef6666aa14f3bea60824b38ecfe4728d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define StatusRequest&nbsp;&nbsp;&nbsp;0xE9</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00093">93</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab0514340ae64ca6bd470fc518efb1409"></a><!-- doxytag: member="kbc.h::StreamDisable" ref="gab0514340ae64ca6bd470fc518efb1409" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define StreamDisable&nbsp;&nbsp;&nbsp;0xF5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00086">86</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ffc6eb402762e3b4f9c553796b9b060"></a><!-- doxytag: member="kbc.h::StreamEnable" ref="ga2ffc6eb402762e3b4f9c553796b9b060" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define StreamEnable&nbsp;&nbsp;&nbsp;0xF4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00087">87</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf555314895f7b6544624a51f22e3aeb0"></a><!-- doxytag: member="kbc.h::Test8042" ref="gaf555314895f7b6544624a51f22e3aeb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Test8042&nbsp;&nbsp;&nbsp;0xAA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Test KBC, returns 0x55 if sucess, 0xFC on error. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00062">62</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5414bbfebe830e7887014106d3fd681e"></a><!-- doxytag: member="kbc.h::TestKBD" ref="ga5414bbfebe830e7887014106d3fd681e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TestKBD&nbsp;&nbsp;&nbsp;0xAB</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Test mouse, returns 0 if OK. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00063">63</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab47f9ef099e1f33e026e5ee549900624"></a><!-- doxytag: member="kbc.h::TestMouse" ref="gab47f9ef099e1f33e026e5ee549900624" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TestMouse&nbsp;&nbsp;&nbsp;0xA9</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Test Mouse Interface, returns 0 if OK. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00061">61</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad16f61e2bf70f6c7685e826224ed177f"></a><!-- doxytag: member="kbc.h::TO_ERR" ref="gad16f61e2bf70f6c7685e826224ed177f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TO_ERR&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Timeout Error. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00032">32</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga177bb59d36f14c1024b2de1601693605"></a><!-- doxytag: member="kbc.h::WriteCommand" ref="ga177bb59d36f14c1024b2de1601693605" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WriteCommand&nbsp;&nbsp;&nbsp;0x60</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write Command_Byte, one arg. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00058">58</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga59358190e83ceb32a586e77d01a536c6"></a><!-- doxytag: member="kbc.h::WriteLEDS" ref="ga59358190e83ceb32a586e77d01a536c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WriteLEDS&nbsp;&nbsp;&nbsp;0xED</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turn on/off KBD LEDS, one arg, one bit per led, bits 0-2, 0-off, 1-on. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00042">42</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1ace60d764c21d4e3dfe01f6b9b401e0"></a><!-- doxytag: member="kbc.h::WriteMouse" ref="ga1ace60d764c21d4e3dfe01f6b9b401e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WriteMouse&nbsp;&nbsp;&nbsp;0xD4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write Mouse, one arg, see "Commands for the Mouse". </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00066">66</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8c9b6532dd05bc77e9bcef499868d98f"></a><!-- doxytag: member="kbc.h::X_OVERFLOW" ref="ga8c9b6532dd05bc77e9bcef499868d98f" args="(dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X_OVERFLOW</td>
          <td>(</td>
          <td class="paramtype">dt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((dt) &amp; YOVF) == YOVF)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if overflow in y movement </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00118">118</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf66ab279fa7f3781953d0c4422a7790"></a><!-- doxytag: member="kbc.h::X_SIGN" ref="gaaf66ab279fa7f3781953d0c4422a7790" args="(dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X_SIGN</td>
          <td>(</td>
          <td class="paramtype">dt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((dt) &amp; XSGN) == XSGN ? -1 : 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if positive x movement, -1 if negative </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00120">120</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac3172c891b25dafed9ced2476aa03cf1"></a><!-- doxytag: member="kbc.h::XOVF" ref="gac3172c891b25dafed9ced2476aa03cf1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XOVF&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Y overflow. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00103">103</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1829ceaee57583878dbef19f0bc1a724"></a><!-- doxytag: member="kbc.h::XSGN" ref="ga1829ceaee57583878dbef19f0bc1a724" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XSGN&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sign of data packet byte 2 (x movement). </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00105">105</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga43c087e52d2e7260fed09fc0cc7d5752"></a><!-- doxytag: member="kbc.h::Y_OVERFLOW" ref="ga43c087e52d2e7260fed09fc0cc7d5752" args="(dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Y_OVERFLOW</td>
          <td>(</td>
          <td class="paramtype">dt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((dt) &amp; XOVF) == XOVF)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if overflow in x movement </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00117">117</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaab5db4b8ea62f4cce4c01f703f0c8592"></a><!-- doxytag: member="kbc.h::Y_SIGN" ref="gaab5db4b8ea62f4cce4c01f703f0c8592" args="(dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Y_SIGN</td>
          <td>(</td>
          <td class="paramtype">dt&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((dt) &amp; YSGN) == YSGN ? -1 : 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>1 if positive y movement, -1 if negative </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00121">121</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga08deb639aef83c70892a364261b09133"></a><!-- doxytag: member="kbc.h::YOVF" ref="ga08deb639aef83c70892a364261b09133" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define YOVF&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>X overflow. </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00102">102</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c610c7c656c4cf62564a959c30e0245"></a><!-- doxytag: member="kbc.h::YSGN" ref="ga5c610c7c656c4cf62564a959c30e0245" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define YSGN&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sign of data packet byte 3 (y movement). </p>

<p>Definition at line <a class="el" href="kbc_8h_source.html#l00104">104</a> of file <a class="el" href="kbc_8h_source.html">kbc.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga088f9ac488fbbf9ecf5a7238919c4e2c"></a><!-- doxytag: member="kbc.h::kbc_init" ref="ga088f9ac488fbbf9ecf5a7238919c4e2c" args="(int debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kbc_init </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>debug</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the KeyBoard Controller. If 'debug' is not 0 every read or write to the KBC, together with the read or writed data is echoed to the screen. In this mode the function name being executed is printed followed by a ':', add=xx means the I/O address written, and data=xx the data read or written.</p>
<p>A 1 is returned if a mouse is found.</p>
<p>The function starts to flush any pending data in the KBC, reading the data register until a timeout is received.</p>
<p>Then it enables the KBC mouse interface, send a MouseReset to the mouse and checks for the correct answer (0xFA, 0xAA then 0x00). If the mouse was detected, data streaming is disabled (StreamDisable), SampleRate is set to 100, Resolution is set to 8 counts/mm, Scaling is set to 1:1, the mouse interrupts generation are enabled at the KBC (not at the PIC!), and data streaming enabled (StreamEnable). All this (but StreamEnable) shouldn't be necessary, as MouseReset is supposed to do it properly.</p>
<p>The KBDRate is also set to its maximum speed.</p>
<p>Uses <a class="el" href="group___keyboard_controller.html#gad0f35d8bf87c5a507aede8692c45f877">write_kbc_cmd()</a>, <a class="el" href="group___keyboard_controller.html#gab19779ea7896435b3d4a5ff8a420f37e">write_kbc_data()</a>, <a class="el" href="group___keyboard_controller.html#ga52a7ce44125208dfa303e597e6302a71">read_kbc()</a> and <a class="el" href="group___keyboard_controller.html#ga60b51b413d6f90bfb8dd7df85ddb63a2">write_aux()</a></p>
<p>Example Output generated with debug = 1: <code></p>
<pre>
read_kbc: timeout
write_kbc: add=64 data=d4
write_kbc: add=60 data=ff
read_kbc: data=fa
read_kbc: data=aa
read_kbc: data= 0
write_kbc: add=60 data=f5
read_kbc: data=fa
write_kbc: add=64 data=a7
write_kbc: add=64 data=d4
write_kbc: add=60 data=f5
read_kbc: data=fa
write_kbc: add=60 data=f3
read_kbc: data=fa
write_kbc: add=60 data= 0
read_kbc: data=fa
write_kbc: add=64 data=d4
write_kbc: add=60 data=f3
read_kbc: data=fa
write_kbc: add=64 data=d4
write_kbc: add=60 data= a
read_kbc: data=fa
write_kbc: add=64 data=d4
write_kbc: add=60 data=e8
read_kbc: data=fa
write_kbc: add=64 data=d4
write_kbc: add=60 data= 1
read_kbc: data=fa
write_kbc: add=64 data=20
read_kbc: data=45
write_kbc: add=64 data=60
write_kbc: add=60 data=47
read_kbc: timeout
write_kbc: add=60 data=f4
read_kbc: data=fa
write_kbc: add=64 data=a8
write_kbc: add=64 data=d4
write_kbc: add=60 data=f4
read_kbc: data=fa
 </pre><p></code> </p>

<p>Definition at line <a class="el" href="kbc_8c_source.html#l00005">5</a> of file <a class="el" href="kbc_8c_source.html">kbc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2f953c4ccfdb59883c1821412f73f237"></a><!-- doxytag: member="kbc.h::mouse_disable" ref="ga2f953c4ccfdb59883c1821412f73f237" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mouse_disable </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disable the mouse, sending a StreamDisable to the mouse, then disables generation of mouse interrupts at the KBC, sends a DisableMouse to the KBC and finnaly disable mouse interrupts at the PIC2 </p>

<p>Definition at line <a class="el" href="kbc_8c_source.html#l00182">182</a> of file <a class="el" href="kbc_8c_source.html">kbc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga52a7ce44125208dfa303e597e6302a71"></a><!-- doxytag: member="kbc.h::read_kbc" ref="ga52a7ce44125208dfa303e597e6302a71" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_kbc </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the data read a the data register.</p>
<p>Waits for OBF on status register up to KBC_TIMEOUT milliseconds, then reads and returns the data read at the data register. Returns -1 on timeout or transmission error. </p>

<p>Definition at line <a class="el" href="kbc_8c_source.html#l00126">126</a> of file <a class="el" href="kbc_8c_source.html">kbc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga60b51b413d6f90bfb8dd7df85ddb63a2"></a><!-- doxytag: member="kbc.h::write_aux" ref="ga60b51b413d6f90bfb8dd7df85ddb63a2" args="(unsigned cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_aux </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send 'cmd' to the mouse, prefacing it with the WriteMouse command to the command register.</p>
<p>If a Resend reply is received from the KBC, it retries up to 3 times to write 'cmd', resending the whole sequence.</p>
<p>Uses <a class="el" href="group___keyboard_controller.html#gad0f35d8bf87c5a507aede8692c45f877">write_kbc_cmd()</a>, <a class="el" href="group___keyboard_controller.html#gad0f4763c978797b701c51fe3841ebdb0">write_kbc()</a> and <a class="el" href="group___keyboard_controller.html#ga52a7ce44125208dfa303e597e6302a71">read_kbc()</a> </p>

<p>Definition at line <a class="el" href="kbc_8c_source.html#l00061">61</a> of file <a class="el" href="kbc_8c_source.html">kbc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad0f4763c978797b701c51fe3841ebdb0"></a><!-- doxytag: member="kbc.h::write_kbc" ref="gad0f4763c978797b701c51fe3841ebdb0" args="(unsigned adr, unsigned data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_kbc </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>adr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write 'data' at IO address 'adr' , returning -1 on error or timeout.</p>
<p>Waits for IBF on status register , than writes data to 'adr', return -1 on timeout. </p>

<p>Definition at line <a class="el" href="kbc_8c_source.html#l00159">159</a> of file <a class="el" href="kbc_8c_source.html">kbc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad0f35d8bf87c5a507aede8692c45f877"></a><!-- doxytag: member="kbc.h::write_kbc_cmd" ref="gad0f35d8bf87c5a507aede8692c45f877" args="(unsigned data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_kbc_cmd </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write 'data' to the command register, returning 0 for OK or -1 on timeout.</p>
<p>Uses <a class="el" href="group___keyboard_controller.html#gad0f4763c978797b701c51fe3841ebdb0">write_kbc()</a> </p>

<p>Definition at line <a class="el" href="kbc_8c_source.html#l00121">121</a> of file <a class="el" href="kbc_8c_source.html">kbc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab19779ea7896435b3d4a5ff8a420f37e"></a><!-- doxytag: member="kbc.h::write_kbc_data" ref="gab19779ea7896435b3d4a5ff8a420f37e" args="(unsigned data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_kbc_data </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write 'data' to the data register, returning ACK, Error or -1 on timeout.</p>
<p>If a Resend reply is received from the KBC, it retries up to 3 times to write the data.</p>
<p>Uses <a class="el" href="group___keyboard_controller.html#gad0f4763c978797b701c51fe3841ebdb0">write_kbc()</a> and <a class="el" href="group___keyboard_controller.html#ga52a7ce44125208dfa303e597e6302a71">read_kbc()</a> </p>

<p>Definition at line <a class="el" href="kbc_8c_source.html#l00092">92</a> of file <a class="el" href="kbc_8c_source.html">kbc.c</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue Jun 1 23:40:25 2010 for Arkanoid by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
